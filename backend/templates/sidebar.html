<div class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <h1 class="sidebar-title">Cikgu Pintar</h1>
  </div>

  <nav class="sidebar-nav">
    <ul class="nav-list">
      <li>
        <a href="#gpt-section" class="nav-link" data-section="gpt-section">
          <span class="nav-icon">ğŸ“š</span>
          <span class="nav-text">Ask AI Tutor</span>
        </a>
      </li>
      <li>
        <a href="#quiz-section" class="nav-link" data-section="quiz-section">
          <span class="nav-icon">ğŸ“</span>
          <span class="nav-text">Smart Quiz</span>
        </a>
      </li>
      <li>
        <a href="#recommend-section" class="nav-link" data-section="recommend-section">
          <span class="nav-icon">ğŸ“Œ</span>
          <span class="nav-text">Topic Recommendation</span>
        </a>
      </li>
      <li>
        <a href="#dashboard-section" class="nav-link" data-section="dashboard-section">
          <span class="nav-icon">ğŸ“Š</span>
          <span class="nav-text">My Dashboard</span>
        </a>
      </li>
      <li>
        <a href="#download-section" class="nav-link" data-section="download-section">
          <span class="nav-icon">ğŸ“¥</span>
          <span class="nav-text">Download Report</span>
        </a>
      </li>
    </ul>
  </nav>

  <div class="sidebar-footer">
    <div class="copyright">Cikgu Pintar Â© 2025</div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const navLinks = document.querySelectorAll(".nav-link");

    function updateActiveLink() {
      const fromTop = window.scrollY + 20; // Offset for fixed headers
      navLinks.forEach(link => {
        const sectionId = link.getAttribute("href").slice(1);
        const section = document.getElementById(sectionId);

        if (
          section.offsetTop <= fromTop &&
          section.offsetTop + section.offsetHeight > fromTop
        ) {
          link.classList.add("active");
        } else {
          link.classList.remove("active");
        }
      });
    }

    window.addEventListener("scroll", updateActiveLink);
    updateActiveLink(); // run on load
  });
</script>
