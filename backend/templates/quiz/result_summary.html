<!-- templates/quiz/result_summary.html -->
{% extends "layout.html" %}
{% block content %}
<div class="container mt-4">
  <div class="card p-4 shadow-sm">
    <h2 class="text-center">📊 Quiz Summary</h2>
    <p class="lead text-center">You scored <strong>{{ score }}/{{ total }}</strong> (<strong>{{ percent }}%</strong>)</p>
    <p class="text-center">🧠 Recommendation: <strong>{{ recommendation }}</strong></p>
    <p class="text-center text-muted">{{ feedback }}</p>

    <hr>
    <h4 class="mt-4">📝 Question Breakdown</h4>
    <div class="table-responsive">
      <table class="table table-bordered table-striped mt-3">
        <thead class="thead-dark">
          <tr>
            <th>#</th>
            <th>Question</th>
            <th>Your Answer</th>
            <th>Correct Answer</th>
            <th>Explanation</th>
            <th>Result</th>
          </tr>
        </thead>
        <tbody>
          {% for r in results %}
          <tr class="{{ 'table-success' if r.is_correct else 'table-danger' }}">
            <td>{{ loop.index }}</td>
            <td>{{ r.question }}</td>
            <td>{{ r.user_answer }}</td>
            <td>{{ r.correct_answer }}</td>
            <td>{{ r.explanation or 'N/A' }}</td>
            <td>{{ '✅' if r.is_correct else '❌' }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
